<script>
  const app = document.getElementById("app");
  const yesBtn = document.getElementById("yes");
  const noBtn = document.getElementById("no");
  const tease = document.getElementById("tease");

  const teaseMessages = [
    "Nice try ğŸ˜",
    "Hahaâ€¦ almost ğŸ˜œ",
    "Not today ğŸ˜Œ",
    "Youâ€™re cute when you try ğŸ¤­",
    "Oops! Missed me ğŸ’ƒ",
    "Iâ€™m faster than your finger ğŸ˜"
  ];

  function moveNo() {
    const padding = 20;
    const maxX = app.clientWidth - noBtn.offsetWidth - padding;
    const maxY = app.clientHeight - noBtn.offsetHeight - 140;

    const x = Math.random() * maxX;
    const y = Math.random() * maxY;

    noBtn.style.left = x + "px";
    noBtn.style.top = y + "px";

    // ğŸ“³ VIBRATION (mobile)
    if (navigator.vibrate) {
      navigator.vibrate(50);
    }

    // ğŸ˜œ TEASING TEXT
    const msg = teaseMessages[Math.floor(Math.random() * teaseMessages.length)];
    tease.innerText = msg;
    tease.style.opacity = 1;

    setTimeout(() => {
      tease.style.opacity = 0;
    }, 900);
  }

  // ğŸ” ALWAYS ESCAPE
  ["mouseenter", "touchstart", "click"].forEach(event => {
    noBtn.addEventListener(event, (e) => {
      e.preventDefault();
      e.stopPropagation();
      moveNo();
    });
  });

  // YES FLOW
  yesBtn.addEventListener("click", showChoice);

  function showChoice() {
    app.innerHTML = `
      <h1>Date Time â˜•ğŸ¬</h1>
      <div class="emoji">ğŸ’‘</div>
      <p>Will it be a CafÃ© Date or a Movie Date?</p>
      <button class="option" onclick="showCafe()">â˜• CafÃ© Date</button>
      <button class="option" onclick="showMovie()">ğŸ¬ Movie Date</button>
    `;
  }

  function showCafe() {
    app.innerHTML = `
      <h1>CafÃ© Date â˜•</h1>
      <div class="emoji">ğŸ§â˜•</div>
      <p>Which cafÃ© do you want to go to with me?</p>
      <input id="cafeName" placeholder="Type cafÃ© name..." />
      <br><br>
      <button class="option" onclick="confirmCafe()">Confirm ğŸ’–</button>
    `;
  }

  function confirmCafe() {
    const cafe = document.getElementById("cafeName").value || "our favourite cafÃ©";
    app.innerHTML = `
      <h1>Perfect Choice ğŸ’•</h1>
      <div class="emoji">â˜•ğŸ§¸</div>
      <p>
        CafÃ© date it is! ğŸ¥°<br><br>
        Letâ€™s meet at <b>${cafe}</b> and make sweet memories âœ¨
      </p>
    `;
  }

  function showMovie() {
    app.innerHTML = `
      <h1>Movie Date ğŸ¬</h1>
      <div class="emoji">ğŸ¿ğŸ¥</div>
      <p>Which movie should we watch together?</p>
      <input id="movieName" placeholder="Type movie name..." />
      <br><br>
      <button class="option" onclick="confirmMovie()">Book Tickets ğŸŸï¸</button>
    `;
  }

  function confirmMovie() {
    const movie = document.getElementById("movieName").value || "a romantic movie";
    app.innerHTML = `
      <h1>Movie Night ğŸ’–</h1>
      <div class="emoji">ğŸ¬ğŸ¿</div>
      <p>
        Tickets booked for <b>${movie}</b> ğŸŸï¸<br><br>
        Canâ€™t wait to watch it with you â¤ï¸
      </p>
    `;
  }
</script>
